<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Crop Recommendation System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chatbot-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 800px;
            height: 600px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .header::before {
            content: "üå±";
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .chat-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            animation: fadeInUp 0.3s ease;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
        }

        .message.bot .message-content {
            background: white;
            border: 1px solid #e0e0e0;
            margin-left: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .message.user .message-content {
            background: #4CAF50;
            color: white;
            margin-right: 10px;
        }

        .avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .bot-avatar {
            background: #4CAF50;
            color: white;
        }

        .user-avatar {
            background: #667eea;
            color: white;
        }

        .input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        .input-container {
            flex: 1;
            position: relative;
        }

        .chat-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            outline: none;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .chat-input:focus {
            border-color: #4CAF50;
        }

        .send-btn {
            padding: 12px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .send-btn:hover {
            background: #45a049;
        }

        .send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .quick-options {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .quick-option {
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 15px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .quick-option:hover {
            background: #4CAF50;
            color: white;
        }

        .typing {
            display: none;
            align-items: center;
            gap: 5px;
            color: #666;
            font-style: italic;
        }

        .typing-dots {
            display: flex;
            gap: 2px;
        }

        .typing-dot {
            width: 4px;
            height: 4px;
            background: #666;
            border-radius: 50%;
            animation: typingDot 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        .crop-card {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #4CAF50;
        }

        .crop-card h4 {
            color: #4CAF50;
            margin-bottom: 8px;
        }

        .tips-list {
            list-style: none;
            padding-left: 0;
        }

        .tips-list li {
            padding: 5px 0;
            position: relative;
            padding-left: 20px;
        }

        .tips-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #4CAF50;
            font-weight: bold;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes typingDot {
            0%, 80%, 100% { 
                transform: scale(0);
            }
            40% { 
                transform: scale(1);
            }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #4CAF50;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .weather-info {
            background: linear-gradient(135deg, #87CEEB, #4682B4);
            color: white;
            padding: 10px;
            border-radius: 8px;
            margin: 5px 0;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .chatbot-container {
                height: 90vh;
                margin: 0;
            }
            
            .message-content {
                max-width: 85%;
            }
        }
    </style>
</head>
<body>
    <div class="chatbot-container">
        <div class="header">
            <h1>Smart Crop Advisor</h1>
            <p>Your AI-powered farming assistant</p>
        </div>
        
        <div class="chat-area" id="chatArea">
            <div class="message bot">
                <div class="avatar bot-avatar">ü§ñ</div>
                <div class="message-content">
                    <p>Hello! I'm your Smart Crop Advisor. I can help you with:</p>
                    <ul class="tips-list">
                        <li>Crop recommendations based on your location and soil</li>
                        <li>Seasonal planting advice</li>
                        <li>Soil preparation and fertilization</li>
                        <li>Pest and disease management</li>
                        <li>Watering and irrigation tips</li>
                    </ul>
                    <p>What would you like to know about farming today?</p>
                </div>
            </div>
            
            <div class="quick-options">
                <div class="quick-option" onclick="selectQuickOption('recommend crops')">üåæ Recommend Crops</div>
                <div class="quick-option" onclick="selectQuickOption('soil preparation')">üèóÔ∏è Soil Prep</div>
                <div class="quick-option" onclick="selectQuickOption('pest control')">üêõ Pest Control</div>
                <div class="quick-option" onclick="selectQuickOption('watering tips')">üíß Watering</div>
            </div>
            
            <div class="typing" id="typing">
                <div class="avatar bot-avatar">ü§ñ</div>
                <span>Bot is typing</span>
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>
        </div>
        
        <div class="input-area">
            <div class="input-container">
                <input type="text" class="chat-input" id="chatInput" placeholder="Ask me anything about farming..." />
            </div>
            <button class="send-btn" id="sendBtn" onclick="sendMessage()">
                <span>Send</span>
            </button>
        </div>
    </div>

    <script>
        // Crop database with detailed information
        const cropDatabase = {
            rice: {
                name: "Rice",
                seasons: ["Kharif", "Rabi"],
                soilTypes: ["clay", "loam", "alluvial"],
                waterReq: "High (1500-2000mm)",
                temperature: "20-35¬∞C",
                tips: [
                    "Prepare field by puddling for water retention",
                    "Maintain 2-5cm water level throughout growth",
                    "Apply nitrogen fertilizer in splits",
                    "Watch for blast and bacterial blight diseases"
                ]
            },
            wheat: {
                name: "Wheat",
                seasons: ["Rabi"],
                soilTypes: ["loam", "clay", "alluvial"],
                waterReq: "Medium (400-500mm)",
                temperature: "15-25¬∞C",
                tips: [
                    "Sow after monsoon when soil moisture is adequate",
                    "Apply phosphorus at sowing time",
                    "Control weeds early in the season",
                    "Monitor for rust diseases"
                ]
            },
            maize: {
                name: "Maize/Corn",
                seasons: ["Kharif", "Rabi"],
                soilTypes: ["loam", "sandy-loam", "alluvial"],
                waterReq: "Medium (500-800mm)",
                temperature: "20-30¬∞C",
                tips: [
                    "Ensure good drainage to prevent waterlogging",
                    "Apply nitrogen in splits for better utilization",
                    "Hill up soil around plants for better support",
                    "Watch for stem borer and fall armyworm"
                ]
            },
            tomato: {
                name: "Tomato",
                seasons: ["All year (with protection)"],
                soilTypes: ["loam", "sandy-loam"],
                waterReq: "Medium (400-600mm)",
                temperature: "20-25¬∞C",
                tips: [
                    "Start with disease-resistant varieties",
                    "Provide support stakes or cages",
                    "Maintain consistent soil moisture",
                    "Remove suckers for better fruit development"
                ]
            },
            potato: {
                name: "Potato",
                seasons: ["Rabi"],
                soilTypes: ["sandy-loam", "loam"],
                waterReq: "Medium (400-500mm)",
                temperature: "15-20¬∞C",
                tips: [
                    "Use certified seed potatoes",
                    "Hill soil around plants as they grow",
                    "Stop watering 2 weeks before harvest",
                    "Store in cool, dark conditions"
                ]
            }
        };

        // Weather patterns for different seasons
        const seasonalAdvice = {
            summer: {
                crops: ["maize", "tomato", "cucumber", "okra"],
                tips: [
                    "Focus on heat-resistant varieties",
                    "Increase watering frequency",
                    "Provide shade during extreme heat",
                    "Mulch to retain soil moisture"
                ]
            },
            monsoon: {
                crops: ["rice", "sugarcane", "cotton"],
                tips: [
                    "Ensure proper drainage systems",
                    "Plant water-loving crops",
                    "Watch for fungal diseases",
                    "Avoid over-fertilization"
                ]
            },
            winter: {
                crops: ["wheat", "potato", "peas", "cabbage"],
                tips: [
                    "Take advantage of lower pest pressure",
                    "Reduce watering frequency",
                    "Protect from frost if needed",
                    "Plan for longer growing seasons"
                ]
            }
        };

        // User context to provide personalized advice
        let userContext = {
            location: null,
            soilType: null,
            experience: null,
            farmSize: null
        };

        let conversationHistory = [];

        // Initialize chat
        function initializeChat() {
            const chatInput = document.getElementById('chatInput');
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }

        // Send message function
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            addUserMessage(message);
            input.value = '';
            
            showTyping();
            
            setTimeout(() => {
                hideTyping();
                processUserMessage(message);
            }, 1500);
        }

        // Add user message to chat
        function addUserMessage(message) {
            const chatArea = document.getElementById('chatArea');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="message-content">${message}</div>
                <div class="avatar user-avatar">üë§</div>
            `;
            chatArea.appendChild(messageDiv);
            scrollToBottom();
            
            conversationHistory.push({type: 'user', message: message});
        }

        // Add bot message to chat
        function addBotMessage(message) {
            const chatArea = document.getElementById('chatArea');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot';
            messageDiv.innerHTML = `
                <div class="avatar bot-avatar">ü§ñ</div>
                <div class="message-content">${message}</div>
            `;
            chatArea.appendChild(messageDiv);
            scrollToBottom();
            
            conversationHistory.push({type: 'bot', message: message});
        }

        // Show typing indicator
        function showTyping() {
            document.getElementById('typing').style.display = 'flex';
            scrollToBottom();
        }

        // Hide typing indicator
        function hideTyping() {
            document.getElementById('typing').style.display = 'none';
        }

        // Scroll to bottom of chat
        function scrollToBottom() {
            const chatArea = document.getElementById('chatArea');
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        // Process user message and generate response
        function processUserMessage(message) {
            const lowerMessage = message.toLowerCase();
            
            // Extract user context from conversation
            extractUserContext(lowerMessage);
            
            let response = "";
            
            // Handle different types of queries
            if (lowerMessage.includes('recommend') && (lowerMessage.includes('crop') || lowerMessage.includes('plant'))) {
                response = generateCropRecommendations();
            } else if (lowerMessage.includes('soil') && lowerMessage.includes('prepare')) {
                response = generateSoilPreparationAdvice();
            } else if (lowerMessage.includes('pest') || lowerMessage.includes('disease') || lowerMessage.includes('bug')) {
                response = generatePestControlAdvice();
            } else if (lowerMessage.includes('water') || lowerMessage.includes('irrigat')) {
                response = generateWateringAdvice();
            } else if (lowerMessage.includes('fertilizer') || lowerMessage.includes('nutrient')) {
                response = generateFertilizerAdvice();
            } else if (lowerMessage.includes('season') || lowerMessage.includes('when')) {
                response = generateSeasonalAdvice();
            } else if (lowerMessage.includes('weather')) {
                response = generateWeatherAdvice();
            } else if (lowerMessage.includes('organic') || lowerMessage.includes('natural')) {
                response = generateOrganicFarmingAdvice();
            } else if (lowerMessage.includes('help') || lowerMessage.includes('what can you do')) {
                response = generateHelpMessage();
            } else {
                response = generateGeneralFarmingAdvice(lowerMessage);
            }
            
            addBotMessage(response);
        }

        // Extract user context from conversation
        function extractUserContext(message) {
            // Location detection
            const locations = ['punjab', 'haryana', 'uttar pradesh', 'bihar', 'west bengal', 'maharashtra', 'karnataka', 'tamil nadu'];
            locations.forEach(loc => {
                if (message.includes(loc)) {
                    userContext.location = loc;
                }
            });
            
            // Soil type detection
            const soilTypes = ['clay', 'sandy', 'loam', 'alluvial', 'black', 'red'];
            soilTypes.forEach(soil => {
                if (message.includes(soil)) {
                    userContext.soilType = soil;
                }
            });
            
            // Experience level
            if (message.includes('beginner') || message.includes('new') || message.includes('start')) {
                userContext.experience = 'beginner';
            } else if (message.includes('experienced') || message.includes('expert')) {
                userContext.experience = 'experienced';
            }
        }

        // Generate crop recommendations
        function generateCropRecommendations() {
            const currentMonth = new Date().getMonth();
            let season = 'summer';
            if (currentMonth >= 6 && currentMonth <= 9) season = 'monsoon';
            else if (currentMonth >= 10 || currentMonth <= 2) season = 'winter';
            
            const recommendations = seasonalAdvice[season];
            
            let response = `<h4>üåæ Crop Recommendations for ${season.charAt(0).toUpperCase() + season.slice(1)} Season</h4>`;
            
            response += '<div class="crop-card">';
            response += '<h4>Recommended Crops:</h4>';
            response += '<ul class="tips-list">';
            recommendations.crops.forEach(crop => {
                if (cropDatabase[crop]) {
                    response += `<li><strong>${cropDatabase[crop].name}</strong> - ${cropDatabase[crop].waterReq} water requirement</li>`;
                } else {
                    response += `<li><strong>${crop.charAt(0).toUpperCase() + crop.slice(1)}</strong></li>`;
                }
            });
            response += '</ul>';
            response += '<h4>Seasonal Tips:</h4>';
            response += '<ul class="tips-list">';
            recommendations.tips.forEach(tip => {
                response += `<li>${tip}</li>`;
            });
            response += '</ul>';
            response += '</div>';
            
            if (userContext.soilType) {
                response += `<p><strong>Note:</strong> Based on your ${userContext.soilType} soil, I can provide more specific recommendations!</p>`;
            }
            
            return response;
        }

        // Generate soil preparation advice
        function generateSoilPreparationAdvice() {
            return `
                <h4>üèóÔ∏è Soil Preparation Guide</h4>
                <div class="crop-card">
                    <h4>Basic Soil Preparation Steps:</h4>
                    <ul class="tips-list">
                        <li><strong>Soil Testing:</strong> Test pH, nitrogen, phosphorus, and potassium levels</li>
                        <li><strong>Clearing:</strong> Remove weeds, stones, and crop residues</li>
                        <li><strong>Plowing:</strong> Deep plowing to 20-25cm to break compacted layers</li>
                        <li><strong>Harrowing:</strong> Break soil clods and create fine tilth</li>
                        <li><strong>Organic Matter:</strong> Add compost or farmyard manure (5-10 tons/hectare)</li>
                        <li><strong>Leveling:</strong> Level the field for uniform water distribution</li>
                    </ul>
                    
                    <h4>Soil-Specific Advice:</h4>
                    <ul class="tips-list">
                        <li><strong>Clay Soil:</strong> Add sand and organic matter to improve drainage</li>
                        <li><strong>Sandy Soil:</strong> Add organic matter to improve water retention</li>
                        <li><strong>Loamy Soil:</strong> Maintain with regular organic matter addition</li>
                    </ul>
                </div>
                
                <p>üí° <strong>Pro Tip:</strong> Prepare your soil 2-3 weeks before planting for best results!</p>
            `;
        }

        // Generate pest control advice
        function generatePestControlAdvice() {
            return `
                <h4>üêõ Integrated Pest Management</h4>
                <div class="crop-card">
                    <h4>Preventive Measures:</h4>
                    <ul class="tips-list">
                        <li>Use disease-resistant crop varieties</li>
                        <li>Maintain proper crop rotation (3-4 year cycle)</li>
                        <li>Keep fields clean of crop residues</li>
                        <li>Install pheromone traps for monitoring</li>
                        <li>Encourage beneficial insects with diverse plantings</li>
                    </ul>
                    
                    <h4>Organic Control Methods:</h4>
                    <ul class="tips-list">
                        <li><strong>Neem Oil:</strong> Effective against aphids, thrips, and whiteflies</li>
                        <li><strong>Bt Spray:</strong> Controls caterpillars naturally</li>
                        <li><strong>Sticky Traps:</strong> Yellow for aphids, blue for thrips</li>
                        <li><strong>Companion Planting:</strong> Marigolds, basil deter many pests</li>
                    </ul>
                    
                    <h4>When to Take Action:</h4>
                    <ul class="tips-list">
                        <li>Monitor crops 2-3 times per week</li>
                        <li>Act when pest population exceeds threshold levels</li>
                        <li>Apply treatments in early morning or evening</li>
                    </ul>
                </div>
            `;
        }

        // Generate watering advice
        function generateWateringAdvice() {
            return `
                <h4>üíß Smart Watering Strategies</h4>
                <div class="crop-card">
                    <h4>General Watering Principles:</h4>
                    <ul class="tips-list">
                        <li><strong>Deep, Infrequent Watering:</strong> Better than light, frequent watering</li>
                        <li><strong>Morning Watering:</strong> Best time is 6-10 AM</li>
                        <li><strong>Soil Check:</strong> Water when top 2-3 inches of soil are dry</li>
                        <li><strong>Root Zone Focus:</strong> Water at the base, not on leaves</li>
                    </ul>
                    
                    <h4>Water Requirements by Crop Type:</h4>
                    <ul class="tips-list">
                        <li><strong>Leafy Vegetables:</strong> Consistent moisture, light frequent watering</li>
                        <li><strong>Root Vegetables:</strong> Deep watering to encourage deep root growth</li>
                        <li><strong>Fruiting Plants:</strong> Consistent moisture during flowering and fruiting</li>
                        <li><strong>Grains:</strong> Critical periods are flowering and grain filling</li>
                    </ul>
                    
                    <h4>Water Conservation Tips:</h4>
                    <ul class="tips-list">
                        <li>Use mulch to reduce evaporation</li>
                        <li>Install drip irrigation for efficiency</li>
                        <li>Collect and use rainwater</li>
                        <li>Group plants with similar water needs</li>
                    </ul>
                </div>
                
                <div class="weather-info">
                    ‚õÖ <strong>Weather Tip:</strong> Adjust watering based on rainfall and humidity levels. Check local weather forecast regularly!
                </div>
            `;
        }

        // Generate fertilizer advice
        function generateFertilizerAdvice() {
            return `
                <h4>üå± Fertilizer Application Guide</h4>
                <div class="crop-card">
                    <h4>Essential Nutrients (NPK):</h4>
                    <ul class="tips-list">
                        <li><strong>Nitrogen (N):</strong> Promotes leafy growth, apply in splits</li>
                        <li><strong>Phosphorus (P):</strong> Root development, apply at planting</li>
                        <li><strong>Potassium (K):</strong> Disease resistance and fruit quality</li>
                    </ul>
                    
                    <h4>Organic Fertilizer Options:</h4>
                    <ul class="tips-list">
                        <li><strong>Compost:</strong> 2-3 inches layer, slow-release nutrients</li>
                        <li><strong>Vermicompost:</strong> Rich in beneficial microorganisms</li>
                        <li><strong>Green Manure:</strong> Legume crops plowed into soil</li>
                        <li><strong>Biofertilizers:</strong> Rhizobium, Azotobacter for nitrogen fixation</li>
                    </ul>
                    
                    <h4>Application Timing:</h4>
                    <ul class="tips-list">
                        <li><strong>Base Fertilizer:</strong> 2-3 weeks before planting</li>
                        <li><strong>Top Dressing:</strong> During active growth periods</li>
                        <li><strong>Foliar Spray:</strong> Early morning for micronutrients</li>
                    </ul>
                </div>
                
                <p>‚ö†Ô∏è <strong>Remember:</strong> Soil testing is crucial to avoid over-fertilization!</p>
            `;
        }

        // Generate seasonal advice
        function generateSeasonalAdvice() {
            const currentMonth = new Date().getMonth();
            const monthNames = ["January", "February", "March", "April", "May", "June", 
                              "July", "August", "September", "October", "November", "December"];
            
            return `
                <h4>üìÖ Current Month: ${monthNames[currentMonth]}</h4>
                <div class="crop-card">
                    <h4>What to Do This Month:</h4>
                    ${getMonthlyAdvice(currentMonth)}
                </div>
                
                <h4>üîÆ Looking Ahead:</h4>
                <div class="crop-card">
                    <h4>Next Month Planning:</h4>
                    ${getMonthlyAdvice((currentMonth + 1) % 12)}
                </div>
            `;
        }

        function getMonthlyAdvice(month) {
            const advice = {
                0: '<ul class="tips-list"><li>Harvest rabi crops like wheat, mustard</li><li>Prepare land for summer crops</li><li>Plan irrigation for dry season</li></ul>',
                1: '<ul class="tips-list"><li>Sow summer vegetables like tomato, chili</li><li>Pruning of fruit trees</li><li>Pest monitoring increases</li></ul>',
                2: '<ul class="tips-list"><li>Land preparation for kharif season</li><li>Summer crop maintenance</li><li>Water management critical</li></ul>',
                3: '<ul class="tips-list"><li>Pre-monsoon activities</li><li>Seed procurement for kharif</li><li>Drainage system check</li></ul>',
                4: '<ul class="tips-list"><li>Early kharif sowing</li><li>Nursery preparation for rice</li><li>Pest and disease vigilance</li></ul>',
                5: '<ul class="tips-list"><li>Monsoon crop sowing</li><li>Transplanting rice seedlings</li><li>Weed control activities</li></ul>',
                6: '<ul class="tips-list"><li>Kharif crop management</li><li>Fertilizer application</li><li>Disease prevention measures</li></ul>',
                7: '<ul class="tips-list"><li>Mid-season crop care</li><li>Pest control measures</li><li>Drainage maintenance</li></ul>',
                8: '<ul class="tips-list"><li>Late kharif activities</li><li>Early variety harvesting</li><li>Post-harvest planning</li></ul>',
                9: '<ul class="tips-list"><li>Kharif harvest season</li><li>Rabi crop preparation</li><li>Seed treatment and storage</li></ul>',
                10: '<ul class="tips-list"><li>Rabi sowing begins</li><li>Winter crop planning</li><li>Irrigation system setup</li></ul>',
                11: '<ul class="tips-list"><li>Winter crop management</li><li>Frost protection measures</li><li>Year-end planning</li></ul>'
            };
            return advice[month] || '<ul class="tips-list"><li>Continue regular crop monitoring</li><li>Follow seasonal best practices</li></ul>';
        }

        // Generate weather advice
        function generateWeatherAdvice() {
            return `
                <h4>üå§Ô∏è Weather-Based Farming Tips</h4>
                <div class="crop-card">
                    <h4>Hot Weather (>35¬∞C):</h4>
                    <ul class="tips-list">
                        <li>Increase watering frequency but avoid midday watering</li>
                        <li>Provide shade cloth for sensitive crops</li>
                        <li>Harvest early morning or evening</li>
                        <li>Apply mulch to keep soil cool</li>
                    </ul>
                    
                    <h4>Rainy Season:</h4>
                    <ul class="tips-list">
                        <li>Ensure proper drainage to prevent waterlogging</li>
                        <li>Reduce fertilizer application during heavy rains</li>
                        <li>Monitor for fungal diseases</li>
                        <li>Support tall plants against wind damage</li>
                    </ul>
                    
                    <h4>Cold Weather (<10¬∞C):</h4>
                    <ul class="tips-list">
                        <li>Cover sensitive plants with frost cloth</li>
                        <li>Water during warmer parts of the day</li>
                        <li>Harvest before frost damage</li>
                        <li>Reduce watering frequency</li>
                    </ul>
                </div>
                
                <div class="weather-info">
                    üì± <strong>Tech Tip:</strong> Use weather apps and agricultural forecasts to plan your farming activities!
                </div>
            `;
        }

        // Generate organic farming advice
        function generateOrganicFarmingAdvice() {
            return `
                <h4>üåø Organic Farming Practices</h4>
                <div class="crop-card">
                    <h4>Soil Health Management:</h4>
                    <ul class="tips-list">
                        <li><strong>Composting:</strong> Create nutrient-rich compost from kitchen and farm waste</li>
                        <li><strong>Cover Crops:</strong> Plant legumes to fix nitrogen naturally</li>
                        <li><strong>Crop Rotation:</strong> 3-4 year rotation to break pest cycles</li>
                        <li><strong>No-Till Methods:</strong> Preserve soil structure and beneficial organisms</li>
                    </ul>
                    
                    <h4>Natural Pest Control:</h4>
                    <ul class="tips-list">
                        <li><strong>Beneficial Insects:</strong> Ladybugs, lacewings, and parasitic wasps</li>
                        <li><strong>Companion Planting:</strong> Basil with tomatoes, marigolds everywhere</li>
                        <li><strong>Natural Sprays:</strong> Garlic, chili, and soap-based solutions</li>
                        <li><strong>Physical Barriers:</strong> Row covers and copper strips</li>
                    </ul>
                    
                    <h4>Organic Certification Tips:</h4>
                    <ul class="tips-list">
                        <li>Maintain detailed records of all inputs and practices</li>
                        <li>3-year transition period from conventional farming</li>
                        <li>Use only approved organic inputs</li>
                        <li>Regular inspection and documentation</li>
                    </ul>
                </div>
                
                <p>üíö <strong>Benefits:</strong> Better soil health, environmental protection, premium market prices!</p>
            `;
        }

        // Generate help message
        function generateHelpMessage() {
            return `
                <h4>ü§ù How I Can Help You</h4>
                <div class="crop-card">
                    <h4>My Capabilities:</h4>
                    <ul class="tips-list">
                        <li><strong>Crop Recommendations:</strong> Best crops for your soil and season</li>
                        <li><strong>Planting Guidance:</strong> When and how to plant different crops</li>
                        <li><strong>Soil Management:</strong> Preparation, fertilization, and health tips</li>
                        <li><strong>Pest Control:</strong> Organic and integrated pest management</li>
                        <li><strong>Irrigation:</strong> Efficient watering strategies</li>
                        <li><strong>Seasonal Planning:</strong> Month-by-month farming calendar</li>
                        <li><strong>Weather Advice:</strong> Weather-specific farming tips</li>
                        <li><strong>Organic Methods:</strong> Sustainable and natural farming practices</li>
                    </ul>
                    
                    <h4>Sample Questions You Can Ask:</h4>
                    <ul class="tips-list">
                        <li>"What crops should I plant in monsoon season?"</li>
                        <li>"How do I prepare clay soil for planting?"</li>
                        <li>"My tomatoes have white spots, what should I do?"</li>
                        <li>"When should I water my wheat crop?"</li>
                        <li>"What organic fertilizer is best for vegetables?"</li>
                    </ul>
                </div>
                
                <p>üí° <strong>Tip:</strong> The more details you provide about your location, soil type, and crops, the better advice I can give you!</p>
            `;
        }

        // Generate general farming advice based on keywords
        function generateGeneralFarmingAdvice(message) {
            const responses = [
                `
                    <h4>üåæ General Farming Tips</h4>
                    <div class="crop-card">
                        <h4>Key Success Factors:</h4>
                        <ul class="tips-list">
                            <li><strong>Soil Testing:</strong> Know your soil's pH and nutrient levels</li>
                            <li><strong>Quality Seeds:</strong> Always use certified, disease-free seeds</li>
                            <li><strong>Timing:</strong> Plant at the right time for your region</li>
                            <li><strong>Water Management:</strong> Neither too much nor too little</li>
                            <li><strong>Regular Monitoring:</strong> Check your crops daily for issues</li>
                        </ul>
                    </div>
                    <p>Can you tell me more about your specific farming question? I'd love to provide more targeted advice!</p>
                `,
                `
                    <h4>üéØ Smart Farming Approach</h4>
                    <div class="crop-card">
                        <h4>Modern Farming Principles:</h4>
                        <ul class="tips-list">
                            <li><strong>Data-Driven Decisions:</strong> Keep records of what works</li>
                            <li><strong>Integrated Approach:</strong> Combine traditional and modern methods</li>
                            <li><strong>Sustainability:</strong> Farm for long-term soil health</li>
                            <li><strong>Market Awareness:</strong> Grow what sells well locally</li>
                            <li><strong>Continuous Learning:</strong> Stay updated with new techniques</li>
                        </ul>
                    </div>
                    <p>What specific aspect of farming would you like to know more about?</p>
                `
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Quick option selection
        function selectQuickOption(option) {
            const input = document.getElementById('chatInput');
            input.value = option;
            sendMessage();
        }

        // Initialize the chat when page loads
        window.addEventListener('load', initializeChat);
    </script>
</body>
</html>